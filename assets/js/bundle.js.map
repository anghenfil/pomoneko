{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://pomoneko/webpack/bootstrap","webpack://pomoneko/webpack/runtime/global","webpack://pomoneko/./CatGenerator.ts","webpack://pomoneko/./API.ts","webpack://pomoneko/./Settings.ts","webpack://pomoneko/./PomodoroTimer.ts","webpack://pomoneko/./Start.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","import * as API from './API';\n\n\nlet character_name = document.getElementsByClassName(\"name\")[0] as HTMLElement;\n\nexport async function start(){\n    await show_tree();\n    character_name.addEventListener(\"click\", edit_name_listener);\n    character_name.addEventListener(\"input\", save_changed_name_listener);\n}\n\nfunction edit_name_listener(){\n    character_name.contentEditable = \"true\";\n}\n\nasync function save_changed_name_listener(){\n    console.log(\"Changed name to:\"+character_name.innerText);\n    await API.send_set_name(globalThis.id, character_name.innerText)\n}\n\nexport interface UserSettings {\n    work_interval_duration: number; // Rust: u16\n    short_break_duration: number;\n    long_break_duration: number;\n    num_of_work_intervals_before_long_break: number;\n    play_sound: boolean;\n    notifications: boolean;\n}\n\nexport interface User {\n    id: string;\n    name: string | null;\n    cycles_done: number;\n    level: number;\n    experience: number;\n    active_world: string;\n    world_data: Record<string, World>; // Uuid → World, als string→World-Map\n    last_cycle_done: string; // ISO-8601 Datumsstring\n    user_settings: UserSettings;\n}\n\n\n// genau wie Serde (internally tagged enum)\nexport type World = { Standard: StandardWorld };\n\nexport interface StandardWorld {\n    cat_tree_entries: CatTreeEntry[];\n}\n\nexport type CatTreeEntry = { CatEntry: Cat };\n\nexport interface Cat {\n    color: number;\n    variant: CatVariant;\n}\n\nexport type CatVariant =\n    | \"Sitting\"\n    | \"Dancing1\"\n    | \"Dancing2\"\n    | \"Sleeping\"\n    | \"Happy\"\n    | \"Running\"\n    | \"Jumping\"\n    | \"Box1\"\n    | \"Box2\"\n    | \"Box3\"\n    | \"Chilling\"\n    | \"Surprised\"\n    | \"Tickle\";\n\nfunction cat_variant_to_class_name(variant: CatVariant): string {\n    switch (variant) {\n        case \"Sitting\":\n            return \"cat-sitting\";\n        case \"Dancing1\":\n            return \"cat-dancing-1\";\n        case \"Dancing2\":\n            return \"cat-dancing-2\";\n        case \"Sleeping\":\n            return \"cat-sleeping\";\n        case \"Happy\":\n            return \"cat-happy\";\n        case \"Running\":\n            return \"cat-running\";\n        case \"Jumping\":\n            return \"cat-jumping\";\n        case \"Box1\":\n            return \"cat-box-1\";\n        case \"Box2\":\n            return \"cat-box-2\";\n        case \"Box3\":\n            return \"cat-box-3\";\n        case \"Chilling\":\n            return \"cat-chilling\";\n        case \"Surprised\":\n            return \"cat-surprised\";\n        case \"Tickle\":\n            return \"cat-tickle\";\n    }\n}\n\n\nlet cat_tree_right = document.getElementsByClassName(\"cat_tree_right\")[0] as HTMLElement;\nlet cat_tree_left = document.getElementsByClassName(\"cat_tree_left\")[0] as HTMLElement;\nlet level_txt = document.getElementsByClassName(\"level\")[0] as HTMLElement;\nlet xp_bar = document.getElementsByClassName(\"bar\")[0] as HTMLElement;\n\nfunction refresh_character_bar(user_data: User){\n    level_txt.innerText = \"Level \"+user_data.level.toString();\n    let xp_needed_for_next_level = 100*(Math.pow(user_data.level+1, 1.1));\n    let xp_percent = user_data.experience/xp_needed_for_next_level;\n    let xp_bubbles_filled = Math.floor(xp_percent*8);\n    console.log(\"Percent: \"+xp_percent+\" XP Bubbles Filled:\"+xp_bubbles_filled);\n    xp_bar.style.backgroundImage = \"url(\\\"/assets/img/levelbar\"+xp_bubbles_filled+\".png\\\")\";\n    if(user_data.name){\n        character_name.innerText = user_data.name;\n    }else{\n        character_name.innerText = \"Click to set a name\";\n    }\n}\n\nexport async function show_tree(){\n    global.data = await API.fetch_saved_data(globalThis.id);\n\n\n    refresh_character_bar(global.data);\n\n    cat_tree_right.innerHTML = \"\";\n    cat_tree_left.innerHTML = \"\";\n\n    let world_data = global.data.world_data[global.data.active_world];\n    if(world_data.Standard){\n        let right = false;\n        for(let entry of world_data.Standard.cat_tree_entries){\n            if(entry.CatEntry){\n                let new_cat_html = \"<div class=\\\"cat_tree_plank\\\"><div class=\\\"cat\"+entry.CatEntry.color+\" \"+cat_variant_to_class_name(entry.CatEntry.variant)+\"\\\"></div></div>\"\n                if(right) {\n                    cat_tree_right.innerHTML = new_cat_html+cat_tree_right.innerHTML;\n                }else{\n                    cat_tree_left.innerHTML = new_cat_html+cat_tree_left.innerHTML;\n                }\n            }\n\n            right = !right;\n        }\n    }\n}","import * as CatGenerator from \"./CatGenerator\";\nimport {UserSettings} from \"./CatGenerator\";\n\nexport async function fetch_saved_data(id: string){\n    const response = await fetch(`/api/home/${id}/`);\n\n    if(!response.ok){\n        throw new Error(response.statusText);\n    }\n\n    return await response.json() as CatGenerator.User\n}\n\nexport async function send_set_name(id: string, name: string){\n    const response = await fetch(`/api/home/${id}/name`,{\n        method: \"POST\",\n        body: name\n    });\n\n    if(!response.ok){\n        throw new Error(response.statusText);\n    }\n}\n\nexport async function add_finished_cycle(){\n    const response = await fetch(`/api/home/${globalThis.id}/cycles`, {\n        method: 'POST',\n    });\n    if(!response.ok){\n        throw new Error(response.statusText);\n    }else{\n        await CatGenerator.show_tree();\n    }\n}\n\nexport async function update_user_settings(id: string, settings: UserSettings){\n    const response = await fetch(`/api/home/${globalThis.id}/settings`, {\n        method: 'POST',\n        body: JSON.stringify(settings)\n    });\n    if(!response.ok){\n        throw new Error(response.statusText);\n    }\n}","import * as API from './API'\nimport * as PomodoroTimer from \"./PomodoroTimer\";\n\nlet work_interval_input = document.getElementById(\"settings_pomodoro_work_interval\") as HTMLInputElement;\nlet short_break_interval_input = document.getElementById(\"settings_pomodoro_short_break_interval\") as HTMLInputElement;\nlet long_break_interval_input = document.getElementById(\"settings_pomodoro_long_break_interval\") as HTMLInputElement;\nlet num_of_work_intervals_input = document.getElementById(\"settings_pomodoro_num_of_intervals_before_long_break\") as HTMLInputElement;\nlet save_btn = document.getElementById(\"settings_save\") as HTMLElement;\nlet sound_on_btn = document.getElementById(\"settings_sound_on\") as HTMLButtonElement;\nlet sound_off_btn = document.getElementById(\"settings_sound_off\") as HTMLButtonElement;\nlet notifications_on_btn = document.getElementById(\"settings_notifications_on\") as HTMLButtonElement;\nlet notifications_off_btn = document.getElementById(\"settings_notifications_off\") as HTMLButtonElement;\n\nexport function init(){\n    refresh_settings();\n    sound_on_btn.addEventListener(\"click\", async function(){\n        sound_on_btn.classList.add(\"hide\");\n        sound_off_btn.classList.remove(\"hide\");\n        global.data.user_settings.play_sound = false;\n        await API.update_user_settings(global.id, global.data.user_settings);\n    });\n    sound_off_btn.addEventListener(\"click\", async function(){\n        sound_off_btn.classList.add(\"hide\");\n        sound_on_btn.classList.remove(\"hide\");\n        global.data.user_settings.play_sound = true;\n        await API.update_user_settings(global.id, global.data.user_settings);\n    });\n    notifications_on_btn.addEventListener(\"click\", async function(){\n        notifications_on_btn.classList.add(\"hide\");\n        notifications_off_btn.classList.remove(\"hide\");\n        global.data.user_settings.notifications = false;\n        await API.update_user_settings(global.id, global.data.user_settings);\n    });\n    notifications_off_btn.addEventListener(\"click\", async function(){\n        notifications_off_btn.classList.add(\"hide\");\n        notifications_on_btn.classList.remove(\"hide\");\n        global.data.user_settings.notifications = true;\n        PomodoroTimer.setup_notifications().then(r => {});\n        await API.update_user_settings(global.id, global.data.user_settings);\n    })\n    save_btn.addEventListener(\"click\", update_settings_listeners);\n}\n\nexport function refresh_settings(){\n    work_interval_input.value = (globalThis.data.user_settings.work_interval_duration/60).toString();\n    short_break_interval_input.value = (globalThis.data.user_settings.short_break_duration/60).toString();\n    long_break_interval_input.value = (globalThis.data.user_settings.long_break_duration/60).toString();\n    num_of_work_intervals_input.value = globalThis.data.user_settings.num_of_work_intervals_before_long_break.toString();\n    if(!global.data.user_settings.play_sound){\n        sound_on_btn.classList.add(\"hide\");\n        sound_off_btn.classList.remove(\"hide\");\n    }\n    if(!global.data.user_settings.notifications){\n        notifications_on_btn.classList.add(\"hide\");\n        notifications_off_btn.classList.remove(\"hide\");\n    }\n}\n\nasync function update_settings_listeners(){\n    globalThis.data.user_settings.work_interval_duration = parseInt(work_interval_input.value)*60;\n    globalThis.data.user_settings.long_break_duration = parseInt(long_break_interval_input.value)*60;\n    globalThis.data.user_settings.short_break_duration = parseInt(short_break_interval_input.value)*60;\n    globalThis.data.user_settings.num_of_work_intervals_before_long_break = parseInt(num_of_work_intervals_input.value);\n\n    if(isNaN(parseInt(work_interval_input.value)) || isNaN(parseInt(long_break_interval_input.value)) || isNaN(parseInt(short_break_interval_input.value)) || isNaN(parseInt(num_of_work_intervals_input.value))){\n        alert(\"Please only input numbers :)\");\n    }\n    if(parseInt(work_interval_input.value)  <= 0 || parseInt(long_break_interval_input.value)  <= 0 || parseInt(short_break_interval_input.value) <= 0 || parseInt(num_of_work_intervals_input.value) <= 0){\n        alert(\"The intervals must be greater than 0!\");\n    }\n    await API.update_user_settings(globalThis.id, globalThis.data.user_settings);\n    \n    await PomodoroTimer.refresh_clock_settings();\n}","import * as API from './API'\nimport * as Settings from './Settings'\n\nconst control_button_start = document.getElementById(\"pomodoro_timer_controls_start\") as HTMLButtonElement;\nconst control_button_pause = document.getElementById(\"pomodoro_timer_controls_pause\") as HTMLButtonElement;\nconst control_button_cancel = document.getElementById(\"pomodoro_timer_controls_cancel\") as HTMLButtonElement;\nconst control_button_skip = document.getElementById(\"pomodoro_control_next_interval\") as HTMLButtonElement;\nconst pomodoro_clock_minutes1 = document.getElementById(\"pomodoro_clock_minutes1\") as HTMLElement;\nconst pomodoro_clock_minutes2 = document.getElementById(\"pomodoro_clock_minutes2\") as HTMLElement;\nconst pomodoro_clock_seconds1 = document.getElementById(\"pomodoro_clock_seconds1\") as HTMLElement;\nconst pomodoro_clock_seconds2 = document.getElementById(\"pomodoro_clock_seconds2\") as HTMLElement;\nconst pomodoro_timer_status = document.getElementById(\"pomodoro_timer_status\") as HTMLElement;\nenum TimerStatus{\n    Ready,\n    Working,\n    WorkingPaused,\n    WorkingEnded,\n    Pause,\n    PausePaused,\n    PauseEnded,\n}\n\nlet work_cycles_done: number = 0;\nlet current_state : TimerStatus = TimerStatus.Ready;\nlet clock_interval: string | number | NodeJS.Timeout;\n\nexport async function init(){\n    globalThis.time_left = globalThis.data.user_settings.work_interval_duration;\n    await refresh_clock();\n    add_listeners();\n}\n\nfunction add_listeners(){\n    control_button_start.addEventListener(\"click\", start);\n    control_button_pause.addEventListener(\"click\", pause);\n    control_button_cancel.addEventListener(\"click\", cancel);\n    control_button_skip.addEventListener(\"click\", skip);\n}\n\n/**\n *   Called when timer affecting settings got changed\n *   If currently in ready or break ended state refresh next interval time\n *   Do nothing if a work/break interval is currently running\n */\nexport async function refresh_clock_settings(){\n    if(current_state == TimerStatus.Ready || current_state == TimerStatus.PauseEnded){\n        time_left = globalThis.data.user_settings.work_interval_duration;\n    }else if(current_state == TimerStatus.WorkingEnded){\n        if(work_cycles_done < globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            globalThis.time_left = globalThis.data.user_settings.short_break_duration;\n        }else{\n            globalThis.time_left = globalThis.data.user_settings.long_break_duration;\n        }\n    }\n    await refresh_clock();\n    refresh_current_phase();\n}\n\nasync function start(){\n    // Either start pause or next work cycle\n    if(current_state == TimerStatus.Ready || current_state == TimerStatus.PauseEnded){\n        // Start next work cycle\n        current_state = TimerStatus.Working;\n        await start_clock(globalThis.time_left);\n    }else if(current_state == TimerStatus.WorkingEnded){\n        // Start pause\n        current_state = TimerStatus.Pause;\n        await start_clock(globalThis.time_left);\n    }else if(current_state == TimerStatus.WorkingPaused){\n        // Unpause after pausing working state\n        current_state = TimerStatus.Working;\n        await start_clock(globalThis.time_left);\n    }else if(current_state == TimerStatus.PausePaused){\n        current_state = TimerStatus.Pause;\n        await start_clock(globalThis.time_left);\n    }\n    control_button_start.classList.add(\"hide\");\n    control_button_cancel.classList.remove(\"hide\");\n    control_button_pause.classList.remove(\"hide\");\n    refresh_current_phase();\n}\n\nasync function pause(){\n    // Update status\n    if(current_state == TimerStatus.Working){\n        current_state = TimerStatus.WorkingPaused;\n    }\n    if(current_state == TimerStatus.Pause){\n        current_state = TimerStatus.PausePaused;\n    }\n    // Stop clock:\n    clearInterval(clock_interval);\n    control_button_pause.classList.add(\"hide\");\n    control_button_start.classList.remove(\"hide\");\n    refresh_current_phase();\n}\n\nasync function cancel(){\n    clearInterval(clock_interval);\n\n    if(current_state == TimerStatus.Working || current_state == TimerStatus.WorkingPaused){\n        globalThis.time_left = globalThis.data.user_settings.work_interval_duration;\n        current_state = TimerStatus.PauseEnded;\n    }else{\n        if(work_cycles_done < globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            globalThis.time_left = globalThis.data.user_settings.short_break_duration;\n        }else{\n            globalThis.time_left = globalThis.data.user_settings.long_break_duration;\n        }\n        current_state = TimerStatus.WorkingEnded;\n    }\n\n    await refresh_clock();\n\n    control_button_pause.classList.add(\"hide\");\n    control_button_start.classList.remove(\"hide\");\n    control_button_cancel.classList.add(\"hide\");\n\n    refresh_current_phase();\n}\n\nasync function skip(){\n    clearInterval(clock_interval);\n\n    if(current_state == TimerStatus.Working || current_state == TimerStatus.WorkingPaused || current_state == TimerStatus.Ready || current_state == TimerStatus.PauseEnded || current_state == TimerStatus.PausePaused){\n        work_cycles_done = work_cycles_done+1;\n        if(work_cycles_done < globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            globalThis.time_left = globalThis.data.user_settings.short_break_duration;\n        }else{\n            globalThis.time_left = globalThis.data.user_settings.long_break_duration;\n        }\n        current_state = TimerStatus.WorkingEnded;\n    }else{\n        if(work_cycles_done >= globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            work_cycles_done = 0;\n        }\n        globalThis.time_left = globalThis.data.user_settings.work_interval_duration;\n        current_state = TimerStatus.PauseEnded;\n    }\n\n    await refresh_clock();\n\n    control_button_pause.classList.add(\"hide\");\n    control_button_start.classList.remove(\"hide\");\n    control_button_cancel.classList.add(\"hide\");\n\n    refresh_current_phase();\n}\n\nexport async function refresh_clock(){\n    let minutes = Math.floor(globalThis.time_left / 60); // e.g. 62/60 -> 1,03 -> 1\n    let seconds = globalThis.time_left % 60;\n\n    let minutes_digits = minutes.toString().split('').map(Number);\n    let seconds_digits = seconds.toString().split('').map(Number);\n\n    if(minutes_digits.length < 2){\n        minutes_digits.unshift(0);\n    }\n    if(seconds_digits.length < 2){\n        seconds_digits.unshift(0);\n    }\n\n    pomodoro_clock_minutes1.innerText = minutes_digits[0].toString();\n    pomodoro_clock_minutes2.innerText = minutes_digits[1].toString();\n    pomodoro_clock_seconds1.innerText = seconds_digits[0].toString();\n    pomodoro_clock_seconds2.innerText = seconds_digits[1].toString();\n\n    // Stop interval when timer has ended\n    if(globalThis.time_left <= 0 && clock_interval){\n        clearInterval(clock_interval);\n        clock_interval = null;\n        await finish_interval();\n    }\n}\n\nfunction refresh_current_phase(){\n    if(current_state == TimerStatus.Working || current_state == TimerStatus.WorkingPaused || current_state == TimerStatus.Ready || current_state == TimerStatus.PauseEnded){\n        pomodoro_timer_status.innerText = \"Current: Working Phase \"+(work_cycles_done+1);\n    }else{\n        if(work_cycles_done < globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            // Short pause\n            pomodoro_timer_status.innerText = \"Current: Short Break\";\n        }else{\n            pomodoro_timer_status.innerText = \"Current: Long Break\";\n        }\n    }\n}\n\nasync function start_clock(duration_in_seconds: number){\n    globalThis.time_left = duration_in_seconds;\n    globalThis.timer_end = Date.now()+(duration_in_seconds*1000);\n\n    await refresh_clock();\n    clock_interval = setInterval(function(){\n        // Calculate seconds till timer_end\n        let now = Date.now();\n        globalThis.time_left = Math.round((globalThis.timer_end - now)/1000);\n        refresh_clock();\n    }, 500);\n}\n\nasync function finish_interval(){\n    if(current_state == TimerStatus.Working){\n        work_cycles_done = work_cycles_done+1;\n        current_state = TimerStatus.WorkingEnded;\n        refresh_current_phase();\n\n        if(work_cycles_done < globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            globalThis.time_left = globalThis.data.user_settings.short_break_duration;\n        }else{\n            globalThis.time_left = globalThis.data.user_settings.long_break_duration;\n        }\n\n        notify(\"Work Interval finished! 🥳\").then();\n\n        await API.add_finished_cycle();\n    }else if(current_state == TimerStatus.Pause){\n        current_state = TimerStatus.PauseEnded;\n\n        if(work_cycles_done >= globalThis.data.user_settings.num_of_work_intervals_before_long_break){\n            work_cycles_done = 0;\n        }\n\n        notify(\"Break finished! 🥲\").then();\n\n        refresh_current_phase();\n\n        globalThis.time_left = globalThis.data.user_settings.work_interval_duration;\n    }\n\n\n    await refresh_clock();\n\n    control_button_cancel.classList.add(\"hide\");\n    control_button_start.classList.remove(\"hide\");\n    control_button_pause.classList.add(\"hide\");\n}\n\nasync function play_sound(){\n    let audio = new Audio('/assets/sounds/bell1.mp3');\n    await audio.play();\n}\n\n/**\n * Plays sound and/or shows notification if enabled in user settings\n  */\nasync function notify(msg: string){\n    if(globalThis.data.user_settings.play_sound) {\n        play_sound().then();\n    }\n\n    if(!(\"Notification\" in window)){\n        console.log(\"You browser doesn't support notifications :(\");\n        return\n    }\n\n    if(Notification.permission !== \"granted\") {\n        await setup_notifications();\n    }\n    if(globalThis.data.user_settings.notifications){\n        let _ = new Notification(\"Pomoneko\", {\n            body: msg,\n        });\n    }\n}\n\nexport async function setup_notifications(){\n    if(Notification.permission !== \"granted\"){\n        let res = await Notification.requestPermission();\n        if(res !== \"granted\"){\n            globalThis.data.user_settings.notifications = false;\n            Settings.refresh_settings();\n        }else{\n            let not = new Notification(\"Pomoneko\", {\n                body: \"Notifications for Pomoneko enabled!\",\n            });\n        }\n    }\n}","import * as PomodoroTimer from './PomodoroTimer'\nimport * as CatGenerator from './CatGenerator'\nimport * as Settings from './Settings'\nimport {User} from \"./CatGenerator\";\n\ndeclare global{\n    var data: User;\n    var id: string;\n    var time_left: number;\n    var timer_end: number | null;\n}\n\nexport async function start() {\n    console.log(\"Starting\");\n\n    // Get last part of url\n    globalThis.id = window.location.pathname.split('/').filter(Boolean).pop();\n\n    if(!globalThis.id){\n        return;\n    }\n\n    await CatGenerator.start();\n    await PomodoroTimer.init();\n    Settings.init();\n}\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n    await start();\n})\n\n"],"names":[],"sourceRoot":""}